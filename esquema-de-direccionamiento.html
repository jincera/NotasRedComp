<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 12 Esquema de direccionamiento | Redes de Computadoras</title>
  <meta name="description" content="Notas del curso Redes de Computadoras en HTML." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 12 Esquema de direccionamiento | Redes de Computadoras" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Notas del curso Redes de Computadoras en HTML." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 12 Esquema de direccionamiento | Redes de Computadoras" />
  
  <meta name="twitter:description" content="Notas del curso Redes de Computadoras en HTML." />
  

<meta name="author" content="José Incera" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sec:ip.html"/>
<link rel="next" href="protocolos-auxiliares.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Redes de Computadoras. Notas de Curso</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Presentación</a></li>
<li class="chapter" data-level="" data-path="resumen.html"><a href="resumen.html"><i class="fa fa-check"></i>Resumen</a></li>
<li class="chapter" data-level="1" data-path="conceptos-básicos.html"><a href="conceptos-básicos.html"><i class="fa fa-check"></i><b>1</b> Conceptos básicos</a>
<ul>
<li class="chapter" data-level="1.1" data-path="conceptos-básicos.html"><a href="conceptos-básicos.html#sistemas-de-comunicaciones"><i class="fa fa-check"></i><b>1.1</b> Sistemas de comunicaciones</a></li>
<li class="chapter" data-level="1.2" data-path="conceptos-básicos.html"><a href="conceptos-básicos.html#redes-de-telecomunicaciones"><i class="fa fa-check"></i><b>1.2</b> Redes de telecomunicaciones</a></li>
<li class="chapter" data-level="1.3" data-path="conceptos-básicos.html"><a href="conceptos-básicos.html#señal"><i class="fa fa-check"></i><b>1.3</b> Señal</a></li>
<li class="chapter" data-level="1.4" data-path="conceptos-básicos.html"><a href="conceptos-básicos.html#conversión-analógica-a-digital-ad"><i class="fa fa-check"></i><b>1.4</b> Conversión analógica a digital (A/D)</a>
<ul>
<li class="chapter" data-level="" data-path="conceptos-básicos.html"><a href="conceptos-básicos.html#teorema-de-nyquist"><i class="fa fa-check"></i>Teorema de Nyquist</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="conmutación.html"><a href="conmutación.html"><i class="fa fa-check"></i><b>2</b> Conmutación</a>
<ul>
<li class="chapter" data-level="2.1" data-path="conmutación.html"><a href="conmutación.html#conmutación-de-mensajes"><i class="fa fa-check"></i><b>2.1</b> Conmutación de mensajes</a></li>
<li class="chapter" data-level="2.2" data-path="conmutación.html"><a href="conmutación.html#conmutación-de-circuitos"><i class="fa fa-check"></i><b>2.2</b> Conmutación de circuitos</a></li>
<li class="chapter" data-level="2.3" data-path="conmutación.html"><a href="conmutación.html#conmutación-de-paquetes"><i class="fa fa-check"></i><b>2.3</b> Conmutación de paquetes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="multiplexaje.html"><a href="multiplexaje.html"><i class="fa fa-check"></i><b>3</b> Multiplexaje</a>
<ul>
<li class="chapter" data-level="3.1" data-path="multiplexaje.html"><a href="multiplexaje.html#multiplexaje-en-el-tiempo"><i class="fa fa-check"></i><b>3.1</b> Multiplexaje en el tiempo</a></li>
<li class="chapter" data-level="3.2" data-path="multiplexaje.html"><a href="multiplexaje.html#multiplexaje-en-frecuencia"><i class="fa fa-check"></i><b>3.2</b> Multiplexaje en frecuencia</a></li>
<li class="chapter" data-level="3.3" data-path="multiplexaje.html"><a href="multiplexaje.html#s:cdm"><i class="fa fa-check"></i><b>3.3</b> Multiplexaje por división de código</a></li>
<li class="chapter" data-level="3.4" data-path="multiplexaje.html"><a href="multiplexaje.html#multiplexaje-espacial"><i class="fa fa-check"></i><b>3.4</b> Multiplexaje espacial</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="arquitecturas-de-red.html"><a href="arquitecturas-de-red.html"><i class="fa fa-check"></i><b>4</b> Arquitecturas de red</a>
<ul>
<li class="chapter" data-level="4.1" data-path="arquitecturas-de-red.html"><a href="arquitecturas-de-red.html#modelo-isoosi"><i class="fa fa-check"></i><b>4.1</b> Modelo ISO/OSI</a></li>
<li class="chapter" data-level="4.2" data-path="arquitecturas-de-red.html"><a href="arquitecturas-de-red.html#modelo-tcpip"><i class="fa fa-check"></i><b>4.2</b> Modelo TCP/IP</a></li>
<li class="chapter" data-level="4.3" data-path="arquitecturas-de-red.html"><a href="arquitecturas-de-red.html#encapsulamiento"><i class="fa fa-check"></i><b>4.3</b> Encapsulamiento</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="taxonomía.html"><a href="taxonomía.html"><i class="fa fa-check"></i><b>5</b> Taxonomía</a></li>
<li class="chapter" data-level="6" data-path="problemas.html"><a href="problemas.html"><i class="fa fa-check"></i><b>6</b> Problemas</a></li>
<li class="chapter" data-level="7" data-path="capl1.html"><a href="capl1.html"><i class="fa fa-check"></i><b>7</b> Capa física</a>
<ul>
<li class="chapter" data-level="" data-path="capl1.html"><a href="capl1.html#resumen-1"><i class="fa fa-check"></i>Resumen</a></li>
<li class="chapter" data-level="7.1" data-path="capl1.html"><a href="capl1.html#medios-de-transmisión"><i class="fa fa-check"></i><b>7.1</b> Medios de transmisión</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="capl1.html"><a href="capl1.html#introducción"><i class="fa fa-check"></i><b>7.1.1</b> Introducción</a></li>
<li class="chapter" data-level="" data-path="capl1.html"><a href="capl1.html#baudaje-y-velocidad-de-transmisión"><i class="fa fa-check"></i>Baudaje y velocidad de transmisión</a></li>
<li class="chapter" data-level="7.1.2" data-path="capl1.html"><a href="capl1.html#medios-guiados"><i class="fa fa-check"></i><b>7.1.2</b> Medios guiados</a></li>
<li class="chapter" data-level="" data-path="capl1.html"><a href="capl1.html#par-trenzado"><i class="fa fa-check"></i>Par trenzado</a></li>
<li class="chapter" data-level="" data-path="capl1.html"><a href="capl1.html#cable-coaxial"><i class="fa fa-check"></i>Cable coaxial</a></li>
<li class="chapter" data-level="" data-path="capl1.html"><a href="capl1.html#fibra-óptica"><i class="fa fa-check"></i>Fibra óptica</a></li>
<li class="chapter" data-level="7.1.3" data-path="capl1.html"><a href="capl1.html#medios-no-guiados"><i class="fa fa-check"></i><b>7.1.3</b> Medios no guiados</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="capl1.html"><a href="capl1.html#sistemas-de-comunicaciones-1"><i class="fa fa-check"></i><b>7.2</b> Sistemas de comunicaciones</a></li>
<li class="chapter" data-level="7.3" data-path="capl1.html"><a href="capl1.html#codificaciones"><i class="fa fa-check"></i><b>7.3</b> Codificaciones</a></li>
<li class="chapter" data-level="7.4" data-path="capl1.html"><a href="capl1.html#problemas-1"><i class="fa fa-check"></i><b>7.4</b> Problemas</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="capl2.html"><a href="capl2.html"><i class="fa fa-check"></i><b>8</b> Capa de enlace de datos</a>
<ul>
<li class="chapter" data-level="" data-path="capl2.html"><a href="capl2.html#resumen-2"><i class="fa fa-check"></i>Resumen</a></li>
<li class="chapter" data-level="8.1" data-path="capl2.html"><a href="capl2.html#introducción-1"><i class="fa fa-check"></i><b>8.1</b> Introducción</a></li>
<li class="chapter" data-level="8.2" data-path="capl2.html"><a href="capl2.html#control-de-errores"><i class="fa fa-check"></i><b>8.2</b> Control de errores</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="capl2.html"><a href="capl2.html#detección-de-errores"><i class="fa fa-check"></i><b>8.2.1</b> Detección de errores</a></li>
<li class="chapter" data-level="8.2.2" data-path="capl2.html"><a href="capl2.html#auto-corrección-de-errores"><i class="fa fa-check"></i><b>8.2.2</b> Auto-corrección de errores</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="capl2.html"><a href="capl2.html#protocolos-para-corrección-de-errores"><i class="fa fa-check"></i><b>8.3</b> Protocolos para corrección de errores</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="capl2.html"><a href="capl2.html#protocolo-stop-and-wait"><i class="fa fa-check"></i><b>8.3.1</b> Protocolo Stop and Wait</a></li>
<li class="chapter" data-level="8.3.2" data-path="capl2.html"><a href="capl2.html#protocolo-de-bit-alternado"><i class="fa fa-check"></i><b>8.3.2</b> Protocolo de bit alternado</a></li>
<li class="chapter" data-level="8.3.3" data-path="capl2.html"><a href="capl2.html#protocolos-de-ventanas-deslizantes"><i class="fa fa-check"></i><b>8.3.3</b> Protocolos de ventanas deslizantes</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="capl2.html"><a href="capl2.html#problemas-2"><i class="fa fa-check"></i><b>8.4</b> Problemas</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="caplan.html"><a href="caplan.html"><i class="fa fa-check"></i><b>9</b> Redes locales</a>
<ul>
<li class="chapter" data-level="" data-path="caplan.html"><a href="caplan.html#resumen-3"><i class="fa fa-check"></i>Resumen</a></li>
<li class="chapter" data-level="9.1" data-path="caplan.html"><a href="caplan.html#introducción-2"><i class="fa fa-check"></i><b>9.1</b> Introducción</a></li>
<li class="chapter" data-level="9.2" data-path="caplan.html"><a href="caplan.html#ethernetieee-802.3"><i class="fa fa-check"></i><b>9.2</b> Ethernet/IEEE 802.3</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="caplan.html"><a href="caplan.html#csmacd"><i class="fa fa-check"></i><b>9.2.1</b> CSMA/CD</a></li>
<li class="chapter" data-level="9.2.2" data-path="caplan.html"><a href="caplan.html#formato-de-la-trama"><i class="fa fa-check"></i><b>9.2.2</b> Formato de la trama</a></li>
<li class="chapter" data-level="9.2.3" data-path="caplan.html"><a href="caplan.html#implementaciones"><i class="fa fa-check"></i><b>9.2.3</b> Implementaciones</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="caplan.html"><a href="caplan.html#redes-locales-inalámbricas"><i class="fa fa-check"></i><b>9.3</b> Redes locales inalámbricas</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="caplan.html"><a href="caplan.html#protocolo-de-acceso"><i class="fa fa-check"></i><b>9.3.1</b> Protocolo de Acceso</a></li>
<li class="chapter" data-level="9.3.2" data-path="caplan.html"><a href="caplan.html#implementaciones-1"><i class="fa fa-check"></i><b>9.3.2</b> Implementaciones</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="caplan.html"><a href="caplan.html#conmutacion"><i class="fa fa-check"></i><b>9.4</b> Conmutacion</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="caplan.html"><a href="caplan.html#principio-de-operación"><i class="fa fa-check"></i><b>9.4.1</b> Principio de operación</a></li>
<li class="chapter" data-level="9.4.2" data-path="caplan.html"><a href="caplan.html#conmutadores-transparentes---operación"><i class="fa fa-check"></i><b>9.4.2</b> Conmutadores transparentes - operación</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="caplan.html"><a href="caplan.html#protocolo-spanning-tree"><i class="fa fa-check"></i><b>9.5</b> Protocolo Spanning Tree</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="caplan.html"><a href="caplan.html#protocolo-spanning-tree-1"><i class="fa fa-check"></i><b>9.5.1</b> Protocolo Spanning Tree</a></li>
<li class="chapter" data-level="" data-path="caplan.html"><a href="caplan.html#asignación-del-puente-raíz"><i class="fa fa-check"></i>Asignación del Puente Raíz</a></li>
<li class="chapter" data-level="" data-path="caplan.html"><a href="caplan.html#temporizadores-y-reconfiguración-de-la-topología"><i class="fa fa-check"></i>Temporizadores y reconfiguración de la topología</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="caplan.html"><a href="caplan.html#rapid-stp"><i class="fa fa-check"></i><b>9.6</b> Rapid STP</a></li>
<li class="chapter" data-level="9.7" data-path="caplan.html"><a href="caplan.html#agregación-de-enlaces"><i class="fa fa-check"></i><b>9.7</b> Agregación de enlaces</a></li>
<li class="chapter" data-level="9.8" data-path="caplan.html"><a href="caplan.html#redes-locales-virtuales"><i class="fa fa-check"></i><b>9.8</b> Redes locales virtuales</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="caplan.html"><a href="caplan.html#criterios-de-membresía"><i class="fa fa-check"></i><b>9.8.1</b> Criterios de membresía</a></li>
<li class="chapter" data-level="9.8.2" data-path="caplan.html"><a href="caplan.html#etiquetado-de-vlan"><i class="fa fa-check"></i><b>9.8.2</b> Etiquetado de VLAN</a></li>
<li class="chapter" data-level="9.8.3" data-path="caplan.html"><a href="caplan.html#puertos-de-acceso-y-de-trunking"><i class="fa fa-check"></i><b>9.8.3</b> Puertos de acceso y de trunking</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="caplan.html"><a href="caplan.html#problemas-3"><i class="fa fa-check"></i><b>9.9</b> Problemas</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="introducción-3.html"><a href="introducción-3.html"><i class="fa fa-check"></i><b>10</b> Introducción</a></li>
<li class="chapter" data-level="11" data-path="sec:ip.html"><a href="sec:ip.html"><i class="fa fa-check"></i><b>11</b> Protocolo IP</a></li>
<li class="chapter" data-level="12" data-path="esquema-de-direccionamiento.html"><a href="esquema-de-direccionamiento.html"><i class="fa fa-check"></i><b>12</b> Esquema de direccionamiento</a>
<ul>
<li class="chapter" data-level="12.1" data-path="esquema-de-direccionamiento.html"><a href="esquema-de-direccionamiento.html#clases-de-direcciones-ip"><i class="fa fa-check"></i><b>12.1</b> Clases de direcciones IP</a></li>
<li class="chapter" data-level="12.2" data-path="esquema-de-direccionamiento.html"><a href="esquema-de-direccionamiento.html#muxe1scaras-de-longitud-variable"><i class="fa fa-check"></i><b>12.2</b> Máscaras de longitud variable</a></li>
<li class="chapter" data-level="12.3" data-path="esquema-de-direccionamiento.html"><a href="esquema-de-direccionamiento.html#cidr"><i class="fa fa-check"></i><b>12.3</b> CIDR</a></li>
<li class="chapter" data-level="12.4" data-path="esquema-de-direccionamiento.html"><a href="esquema-de-direccionamiento.html#asignaciuxf3n-de-direcciones-a-dispositivos"><i class="fa fa-check"></i><b>12.4</b> Asignación de direcciones a dispositivos</a></li>
<li class="chapter" data-level="12.5" data-path="esquema-de-direccionamiento.html"><a href="esquema-de-direccionamiento.html#direcciones-privadas"><i class="fa fa-check"></i><b>12.5</b> Direcciones privadas</a>
<ul>
<li class="chapter" data-level="" data-path="esquema-de-direccionamiento.html"><a href="esquema-de-direccionamiento.html#network-address-translation---nat"><i class="fa fa-check"></i>Network Address Translation - NAT</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="protocolos-auxiliares.html"><a href="protocolos-auxiliares.html"><i class="fa fa-check"></i><b>13</b> Protocolos auxiliares</a>
<ul>
<li class="chapter" data-level="13.1" data-path="protocolos-auxiliares.html"><a href="protocolos-auxiliares.html#icmp"><i class="fa fa-check"></i><b>13.1</b> ICMP</a></li>
<li class="chapter" data-level="13.2" data-path="protocolos-auxiliares.html"><a href="protocolos-auxiliares.html#arp"><i class="fa fa-check"></i><b>13.2</b> ARP</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ipv6.html"><a href="ipv6.html"><i class="fa fa-check"></i><b>14</b> IPv6</a></li>
<li class="chapter" data-level="15" data-path="enrutamiento.html"><a href="enrutamiento.html"><i class="fa fa-check"></i><b>15</b> Enrutamiento</a>
<ul>
<li class="chapter" data-level="15.1" data-path="enrutamiento.html"><a href="enrutamiento.html#enrutamiento-estuxe1tico"><i class="fa fa-check"></i><b>15.1</b> Enrutamiento estático</a></li>
<li class="chapter" data-level="15.2" data-path="enrutamiento.html"><a href="enrutamiento.html#enrutamiento-dinuxe1mico"><i class="fa fa-check"></i><b>15.2</b> Enrutamiento dinámico</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="enrutamiento.html"><a href="enrutamiento.html#sistemas-autuxf3nomos"><i class="fa fa-check"></i><b>15.2.1</b> Sistemas autónomos</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="enrutamiento.html"><a href="enrutamiento.html#protocolos-de-enrutamiento-interno"><i class="fa fa-check"></i><b>15.3</b> Protocolos de enrutamiento interno</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="enrutamiento.html"><a href="enrutamiento.html#enrutamiento-interno---vector-de-distancias"><i class="fa fa-check"></i><b>15.3.1</b> Enrutamiento interno - Vector de distancias</a></li>
<li class="chapter" data-level="" data-path="enrutamiento.html"><a href="enrutamiento.html#rip"><i class="fa fa-check"></i>RIP</a></li>
<li class="chapter" data-level="15.3.2" data-path="enrutamiento.html"><a href="enrutamiento.html#enrutamiento-interno---estado-de-enlace"><i class="fa fa-check"></i><b>15.3.2</b> Enrutamiento interno - Estado de enlace</a></li>
<li class="chapter" data-level="" data-path="enrutamiento.html"><a href="enrutamiento.html#ospf"><i class="fa fa-check"></i>OSPF</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="enrutamiento.html"><a href="enrutamiento.html#protocolos-de-enrutamiento-externo"><i class="fa fa-check"></i><b>15.4</b> Protocolos de enrutamiento externo</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="enrutamiento.html"><a href="enrutamiento.html#bgp.-caracteruxedsticas-generales"><i class="fa fa-check"></i><b>15.4.1</b> BGP. Características generales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="problemas-4.html"><a href="problemas-4.html"><i class="fa fa-check"></i><b>16</b> Problemas</a></li>
<li class="chapter" data-level="17" data-path="introducción-4.html"><a href="introducción-4.html"><i class="fa fa-check"></i><b>17</b> Introducción</a>
<ul>
<li class="chapter" data-level="17.1" data-path="introducción-4.html"><a href="introducción-4.html#comunicación-mediante-sockets"><i class="fa fa-check"></i><b>17.1</b> Comunicación mediante Sockets</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="udp-user-datagram-protocol.html"><a href="udp-user-datagram-protocol.html"><i class="fa fa-check"></i><b>18</b> UDP (<em>User Datagram Protocol</em>)</a>
<ul>
<li class="chapter" data-level="18.1" data-path="udp-user-datagram-protocol.html"><a href="udp-user-datagram-protocol.html#formato-del-datagrama-udp"><i class="fa fa-check"></i><b>18.1</b> Formato del datagrama UDP</a></li>
<li class="chapter" data-level="18.2" data-path="udp-user-datagram-protocol.html"><a href="udp-user-datagram-protocol.html#análisis-de-un-datagrama-udp"><i class="fa fa-check"></i><b>18.2</b> Análisis de un datagrama UDP</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html"><i class="fa fa-check"></i><b>19</b> TCP (<em>Transmission Control Protocol</em>)</a>
<ul>
<li class="chapter" data-level="19.1" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#formato-del-segmento-tcp"><i class="fa fa-check"></i><b>19.1</b> Formato del segmento TCP</a></li>
<li class="chapter" data-level="19.2" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#análisis-de-un-segmento-tcp"><i class="fa fa-check"></i><b>19.2</b> Análisis de un segmento TCP</a></li>
<li class="chapter" data-level="19.3" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#establecimiento-y-liberación-de-una-conexión"><i class="fa fa-check"></i><b>19.3</b> Establecimiento y liberación de una conexión</a></li>
<li class="chapter" data-level="19.4" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#control-de-errores-1"><i class="fa fa-check"></i><b>19.4</b> Control de errores</a></li>
<li class="chapter" data-level="19.5" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#control-de-flujo"><i class="fa fa-check"></i><b>19.5</b> Control de flujo</a></li>
<li class="chapter" data-level="19.6" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#control-de-congestión"><i class="fa fa-check"></i><b>19.6</b> Control de congestión</a>
<ul>
<li class="chapter" data-level="19.6.1" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#arranque-lento-slow-start-y-prevención-de-congestión-congestion-avoidance"><i class="fa fa-check"></i><b>19.6.1</b> Arranque lento (<em>Slow start</em>) y prevención de congestión (<em>Congestion avoidance</em>)</a></li>
<li class="chapter" data-level="19.6.2" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#retransmisión-rápida-fast-retransmission-y-recuperación-rápida-fast-recovery"><i class="fa fa-check"></i><b>19.6.2</b> Retransmisión rápida (<em>fast retransmission</em>) y recuperación rápida (<em>fast recovery</em>)</a></li>
<li class="chapter" data-level="19.6.3" data-path="tcp-transmission-control-protocol.html"><a href="tcp-transmission-control-protocol.html#otros-mecanismos-de-control-de-congestión-en-tcp"><i class="fa fa-check"></i><b>19.6.3</b> Otros mecanismos de control de congestión en TCP</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="problemas-5.html"><a href="problemas-5.html"><i class="fa fa-check"></i><b>20</b> Problemas</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Redes de Computadoras</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="esquema-de-direccionamiento" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">Capítulo 12</span> Esquema de direccionamiento<a href="esquema-de-direccionamiento.html#esquema-de-direccionamiento" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Para comunicarse, cada dispositivo necesita de un identificador
único<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a> llamado la <strong>dirección IP</strong>. Para entender el formato de las
direcciones IP, un concepto esencial que debe quedar muy claro, es que
“Internet” es una <strong>Inter</strong>conexión de <strong>Net</strong>works. Por ello, las
direcciones IP están formadas por dos partes: un <strong>identificador de
red</strong> y un <strong>identificador de host</strong> o dispositivo (en realidad, un
identificador de la tarjeta de red del dispositivo).</p>
<p>Como se observa en la figura <a href="sec:ip.html#fig:hdrip" reference-type="ref" reference="fig:hdrip">1</a>, cada datagrama contiene la dirección del
destinatario. Los nodos de conmutación en la red, llamados
<strong>enrutadores</strong> en esta capa, revisan la parte de red de la dirección IP
y deciden a qué enrutador vecino entregarle el datagrama para acercarlo
a la red donde se encuentra el destinatario. Una vez alcanzada la red
destino, se analiza la parte de host de la dirección IP para entregarla
al dispositivo correspondiente.</p>
<p>En IPv4, las direcciones IP son de 32 bits y, para simplificar su
interpretación por las personas, son divididas en cuatro bytes, cada uno
expresado en formato decimal y separado por un punto. Por ejemplo, la
computadora que hospeda el servidor Web del ITAM, tiene la dirección IP
148.205.148.6, lo cual es mucho más sencillo de asimilar, que su
equivalente en binario: <code>10010100 11001101 10010100 0000110</code>.</p>
<div id="clases-de-direcciones-ip" class="section level2 hasAnchor" number="12.1">
<h2><span class="header-section-number">12.1</span> Clases de direcciones IP<a href="esquema-de-direccionamiento.html#clases-de-direcciones-ip" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Cada red conectada a Internet debe tener su propia dirección (su
identificador único) y los enrutadores debían contar con un mecanismo
sencillo para poder obtener ese identificador de la dirección IP y, con
base en él, encaminar el datagrama hacia la red donde se encuentra el
destinatario.</p>
<p>Para ello, los diseñadores de Internet decidieron definir cinco
distintos tipos de redes que se pueden distinguir a partir de los bits
más significativos de la dirección IP.</p>
<div id="clase-a" class="section level4 unnumbered hasAnchor">
<h4>Clase A<a href="esquema-de-direccionamiento.html#clase-a" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Si el bit más significativo de la dirección IP empieza en cero, tenemos
una direción clase A y el primer byte de la dirección IP es el
identificador de la red. Los tres bytes restantes quedan disponibles
para identificadores de hosts en esa red.</p>
<p>Con siete bits (recordemos que el primer bit ya se ocupó, debe ser
cero), tenemos <span class="math inline">\(2^7=128\)</span> identificadores de red clase A. En realidad,
126, pues los identificadores 0 y 127 están reservados.</p>
<p>Cada una de estas redes dispone de <span class="math inline">\(2^{24}-2=16,777,214\)</span> identificadores
de host. Se han reducido dos direcciones pues cuando todos los bits de
la parte de host están en cero, tenemos el identificador de la red y
cuando todos están en uno, tenemos una dirección de difusión dentro de
esa red.</p>
<p>Esta clase fue propuesta para muy pocas grandes organizaciones con una
gran cantidad de hosts, como puede ser un organismo de gobierno o un
proveedor de acceso a Internet.</p>
</div>
<div id="clase-b" class="section level4 unnumbered hasAnchor">
<h4>Clase B<a href="esquema-de-direccionamiento.html#clase-b" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Si el bit más significativo de la dirección IP empieza en uno y el
siguiente en cero, tenemos una direción clase B y los dos primeros bytes
son el identificador de la red. Los dos bytes restantes quedan
disponibles para identificadores de hosts en esa red.</p>
<p>Con 14 bits (los primeros dos valen 10), tenemos <span class="math inline">\(2^{14}=16,384\)</span>
identificadores de red clase B. Cada una de estas redes dispone de
<span class="math inline">\(2^{16}-2=64,534\)</span> identificadores de host.</p>
<p>Esta clase fue propuesta para organizaciones de tamaño medio y grande
que pudieran tener unos miles de computadoras conectadas a Internet.
Observe que sólo hay 16,384 de estas direcciones disponibles en el
mundo. El ITAM tiene una de ellas.</p>
</div>
<div id="clase-c" class="section level4 unnumbered hasAnchor">
<h4>Clase C<a href="esquema-de-direccionamiento.html#clase-c" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Si los dos primeros bits más significativos de la dirección IP empiezan
en uno y el tercero en cero, tenemos una direción clase C y los tres
primeros bytes de la dirección IP son el identificador de la red. El
byte restante queda disponible para identificadores de hosts en esa red.</p>
<p>Con 21 bits (los 3 primeros valen 110), tenemos <span class="math inline">\(2^{21}=2,097,152\)</span>
identificadores de red clase C. Cada una de estas redes dispone de
<span class="math inline">\(2^{8}-2=254\)</span> identificadores de host.</p>
<p>Esta clase fue propuesta para organizaciones con pocas computadoras con
necesidad de conectarse a Internet. Se anticipaba que hubiera unos pocos
millones de organizaciones de este tipo. Recordemos que estas decisiones
se tomaron hace más 40 años, cuando nadie imaginaba lo que terminó
siendo Internet en nuestras vidas.</p>
</div>
<div id="clase-d" class="section level4 unnumbered hasAnchor">
<h4>Clase D<a href="esquema-de-direccionamiento.html#clase-d" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Las direcciones clase D se reconocen porque los primeros cuatro bits más
significativos tienen un valor 1110. Con ellas se pueden crear grupos
<strong>Multicast</strong>, en los que el datagrama se entrega a todos los
dispositivos que tengan la misma dirección IP multicast. Por ejemplo, en
algunos de los protocolos de enrutamiento que se verán más adelante, los
enrutadores se configuran con direcciones multicast para que sólo ellos
reciban los datagramas con la información que les permita concebir la
topología de la red.</p>
</div>
<div id="clase-e" class="section level4 unnumbered hasAnchor">
<h4>Clase E<a href="esquema-de-direccionamiento.html#clase-e" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Si los primeros cuatro bits valen uno, se tiene una dirección clase E.
Se trata de un bloque reservado para experimentación y sus direcciones
no pueden ser utilizadas en una red operativa.</p>
<p>En la tabla de la figura <a href="esquema-de-direccionamiento.html#fig:clases" reference-type="ref" reference="fig:clases">2</a> se sintetizan las principales características de
las clases de direcciones IP:</p>
<div class="float" id="fig:clases">
<img src="figuras/c4/clases.jpg" alt="Clases de direcciones IP" />
<div class="figcaption"><em>Clases de direcciones IP</em></div>
</div>
<p>No es práctico tener un espacio plano de direccionamiento para todos los
dispositivos en una red. No tiene mucho sentido enumerar de manera
consecutiva a cada uno de los dispositivos pues con toda probabilidad
estos dispositivos podrían organizarse en grupos, por ejemplo, con base
en su ubicación o su función en la organización, tal como se podrían
organizar las VLANs.</p>
<p>Una red IP puede dividirse en pequeñas redes llamadas subredes. Para
identificar cada una de las subredes, se toman “prestados” bits del
campo de host de la dirección IP. Entonces, en la dirección IP se tiene
un campo para identificar la red, un campo para identificar las subredes
en esa red y un campo para identificar los dispositivos en cada subred.</p>
<div class="Ejemplo">
<p><span id="exm:subred"></span><span id="exm:subred" label="exm:subred"></span>Supongamos una
organización que tiene una dirección de clase B con la que puede asignar
direcciones IP a 65,534 dispositivos. Si la organización tiene 12
unidades de negocio, entonces podría definir doce subredes (en realidad,
16) y en cada una de estas subredes podría asignar direcciones para poco
más de 4,000 dispositivos.</p>
<p>Dado que se tienen que definir 12 subredes, se deben tomar prestados
cuatro bits del campo de host (<span class="math inline">\(2^3 = 8 &lt; 12 \le 2^4=16\)</span>) y quedan 12
bits para asignar direcciones IP a dispositivos en cada subred.</p>
</div>
<p>Las subredes están bajo administración local, por lo que el mundo
externo ve a la organización como una sola red sin tener conocimiento
detallado de su estructura interna. En cambio, los enrutadores dentro de
la organización deben saber a qué subred dirigir el tráfico
correspondiente, es decir cuántos bits de la dirección IP contienen la
dirección de red y subred. Para ello se utilizan las máscaras de red.</p>
<p>Al igual que las direcciones IP, la máscara de red también tiene una
longitud de 32 bits y se expresa como cuatro dígitos decimales. Los bits
en 1 en la máscara indican los bits correspondientes en la dirección IP
que identifican las direcciones de red y subred (no se hace distinción
entre ellas, no es necesario). Los bits en 0 en la máscara, indican los
bits correspondientes en la dirección IP que identifican las direcciones
de los hosts. Para la red del
ejemplo <a href="esquema-de-direccionamiento.html#exm:subred" reference-type="ref" reference="exm:subred"><span class="math display">\[exm:subred\]</span></a>, la máscara tiene los primeros 20 bits
encendidos y su identificador es <code>255.255.240.0</code> como se muestra en la
figura <a href="esquema-de-direccionamiento.html#fig:mascara" reference-type="ref" reference="fig:mascara">3</a>.</p>
<div class="float" id="fig:mascara">
<img src="figuras/c4/mascara.jpg" alt="Subredes y máscara de red" />
<div class="figcaption"><em>Subredes y máscara de red</em></div>
</div>
<p>Para reforzar los conceptos de redes, subredes y máscaras, hagamos un
ejercicio de direccionamiento. Considere la red de la
figura <a href="esquema-de-direccionamiento.html#fig:reddir" reference-type="ref" reference="fig:reddir">4</a> que
tiene una dirección clase C <code>198.62.193.0</code>. Nuestro trabajo es asignar
direcciones IP dentro de ese bloque a todos los dispositivos en la red.</p>
<div class="float" id="fig:reddir">
<img src="figuras/c4/reddir.jpg" alt="Red para ejemplo de direccionamiento" />
<div class="figcaption"><em>Red para ejemplo de
direccionamiento</em></div>
</div>
<p>En primer lugar, se debe identificar cuántas subredes y cuántos
dispositivos en cada subred se conectarán. Esto determina cómo se hará
el direccionamiento. Para nuestro ejercicio, vamos a considerar que en
ninguna subred habrá más de 10 dispositivos.</p>
<p>¿Cuántas subredes tiene la red de la
figura <a href="esquema-de-direccionamiento.html#fig:reddir" reference-type="ref" reference="fig:reddir">4</a>?
Con poca experiencia diríamos que hay cuatro subredes. Sin embargo, si
recordamos que los enrutadores separan (e interconectan) redes (ok,
también subredes), en realidad tenemos siete. Las cuatro en los extremos
y las tres que las interconectan. A pesar de ser enlaces punto a punto,
en Internet son consideradas redes.</p>
<p>Si tenemos siete subredes, debemos tomar prestados 3 bits del campo de
host, dejando 5 bits para poder direccionar hasta 30 dispositivos en
cada subred. Sin embargo, esto no deja ningún margen para añadir más
subredes. Dado que en ninguna red habrá más de 10 dispositivos, el campo
de host debe ser de cuatro bits, lo que nos deja cuatro bits para los
identificadores de subred, con lo que podremos definir en un futuro
hasta 16 subredes.</p>
<p>Con esa política de direccionamiento, en la
figura <a href="esquema-de-direccionamiento.html#fig:tabidred" reference-type="ref" reference="fig:tabidred">5</a>
se muestran los primeros ocho identificadores de subred para nuestro
ejercicio.</p>
<div class="float" id="fig:tabidred">
<img src="figuras/c4/tabidred.jpg" alt="Identificadores de subred para la red del ejemplo." />
<div class="figcaption"><em>Identificadores de subred para la red del
ejemplo.</em></div>
</div>
<p>Es momento de asignar identificadores a (las interfaces de) los
dispositivos. Podríamos asignarlos de manera arbitraria, pero siempre es
una buena práctica que simplifica la gestión de la red, establecer una
política. Por ejemplo, el gateway en la red tendrá el identificador
menos significativo, el servidor de configuración DHCP el siguiente, el
servidor de impresión el siguiente, y las computadoras de los usuarios
se asignan consecutivamente en orden descendente.</p>
<p>Con una política como la anterior, y recordando que las direcciones
primera y última están reservadas, la asignación de direcciones en la
red de nuestro ejemplo quedaría como se muestra en la
figura <a href="esquema-de-direccionamiento.html#fig:reddirsol" reference-type="ref" reference="fig:reddirsol">6</a>.</p>
<div class="float" id="fig:reddirsol">
<img src="figuras/c4/reddirsol.jpg" alt="Red de ejemplo con direcciones asignadas." />
<div class="figcaption"><em>Red de ejemplo con direcciones
asignadas.</em></div>
</div>
</div>
</div>
<div id="muxe1scaras-de-longitud-variable" class="section level2 hasAnchor" number="12.2">
<h2><span class="header-section-number">12.2</span> Máscaras de longitud variable<a href="esquema-de-direccionamiento.html#muxe1scaras-de-longitud-variable" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El ejercicio de direccionamiento que acabamos de realizar, cumple con lo
necesario para ese ejemplo pero es ineficiente. En particular, sabemos
que en los enlaces punto a punto que interconectan las subredes, no
habrá dispositivos de usuarios. Sin embargo, para cada uno de esos
enlaces (de esas subredes) se ha reservado un bloque con 14 direcciones
de host, de las que únicamente se utilizan dos. Las otras 12 se están
desperdiciando.</p>
<p>Esto puede resolverse utilizando máscaras de longitud variable (VLSM)
que permiten optimizar el espacio de direcciones disponibles mediante la
división de una red (o subred) en subredes de diferente tamaño.</p>
<p>En otras palabras, dentro de la organización es válido y hasta
recomendable, utilizar máscaras con diferentes longitudes en distintas
subredes, atendiendo las necesidades reales de direccionamiento de la
organización.</p>
<p>En nuestro ejercicio, los enlaces punto a punto requieren únicamente de
dos direcciones, una para cada interfaz de red<a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a>. Para obtener dos
direcciones IP, necesitamos de dos bits del campo de host. Esto nos da
cuatro identificadores, pero recordemos que el primero y el último están
reservados.</p>
<p>Entonces, para los identificadores de las subredes de los enlaces punto
a punto, podemos extender la máscara de 28 a 30 bits a partir del
identificador de (sub)red <code>198.62.193.64</code>. El direccionamiento
resultante se muestra en la
figura <a href="esquema-de-direccionamiento.html#fig:reddirvlsm" reference-type="ref" reference="fig:reddirvlsm">7</a>.</p>
<div class="float" id="fig:reddirvlsm">
<img src="figuras/c4/reddirvlsm.jpg" alt="Direccionamiento con máscaras de longitud variable." />
<div class="figcaption"><em>Direccionamiento con máscaras de longitud
variable.</em></div>
</div>
</div>
<div id="cidr" class="section level2 hasAnchor" number="12.3">
<h2><span class="header-section-number">12.3</span> CIDR<a href="esquema-de-direccionamiento.html#cidr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A principios de los años 90 se pusieron en evidencia varios problemas
relacionados con el direccionamiento basado en clases de redes y que
estaba acelerando el agotamiento de las direcciones IP disponibles.</p>
<p>Considere el caso de una organización que requiere de 1,800 direcciones
IP para sus dispositivos. En los años 80, se le hubiera otorgado una
dirección clase B, desperdiciando ¡63,734 direcciones! Otra opción
podría ser asignarle ocho direcciones clase C; el desperdicio sería
menor pero la organización debe anunciar y atender los paquetes
dirigidos a esas ocho redes. Esto aumenta innecesariamente las tablas de
enrutamiento en Internet.</p>
<p>CIDR, <em>Classless Inter-Domain Routing</em> se desarrolló a principios de la
década de 1990 para atender estos problemas. La idea es básicamente
utilizar únicamente la máscara de red para establecer qué bits conforman
el identificador de red en vez de observar únicamente los primeros bits
más significativos. A los “n” bits que conforman la máscara se le llama
prefijo y determinan el identificador de red de la dirección IP. Se
representa con una diagonal y el número de bits correspondiente. Por
ejemplo, la máscara <code>255.255.0.0</code> se representa con el prefijo <code>/16</code>.</p>
<p>Con esta técnica, los bloques de direcciones IP se pueden asignar de
manera más flexible y eficiente pues CIDR permite que los bloques de
direcciones sean asignados con una longitud de prefijo variable, lo que
significa que una red puede recibir una cantidad más ajustada de
direcciones, evitando así el desperdicio de espacio de direcciones.</p>
<p>En el ejemplo anterior, ahora se podría asignar a la organización que
requiere de 1,800 direcciones IP, el bloque <code>192.168.0.0/21</code>, lo que
deja un espacio de 2,046 direcciones de host.</p>
<p>CIDR se convirtió en una solución esencial para paliar el agotamiento de
las direcciones IPv4, y sigue siendo ampliamente utilizado en la
actualidad junto con la adopción creciente de IPv6, que ofrece una
cantidad significativamente mayor de direcciones.</p>
<p>Al introducir CIDR también se restringió severamente el otorgamiento de
direcciones de red. En la mayoría de los países, estas direcciones
únicamente se otorgan a proveedores de acceso a Internet (ISP) con base
en los bloques de direcciones que se reservaron para la distintas
regiones geográficas que se muestran en la
tabla <a href="esquema-de-direccionamiento.html#t:bloquesdir" reference-type="ref" reference="t:bloquesdir">1</a>.</p>
<div id="t:bloquesdir">
<table>
<caption><em>Bloques de direcciones asignado por región</em></caption>
<thead>
<tr class="header">
<th align="center">Bloque</th>
<th align="center">Región</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">192.0.0 a 193.255.255</td>
<td align="center">Multiregión</td>
</tr>
<tr class="even">
<td align="center">194.0.0 a 195.255.255</td>
<td align="center">Europa</td>
</tr>
<tr class="odd">
<td align="center">196.0.0 a 197.255.255</td>
<td align="center">Otros</td>
</tr>
<tr class="even">
<td align="center">198.0.0 a 198.255.255</td>
<td align="center">América del Norte</td>
</tr>
<tr class="odd">
<td align="center">200.0.0 a 201.255.255</td>
<td align="center">America Central y del Sur</td>
</tr>
<tr class="even">
<td align="center">202.0.0 a 203.255.255</td>
<td align="center">Costa del Pacífico</td>
</tr>
<tr class="odd">
<td align="center">204.0.0 a 205.255.255</td>
<td align="center">Otros</td>
</tr>
<tr class="even">
<td align="center">206.0.0 a 207.255.255</td>
<td align="center">Otros</td>
</tr>
</tbody>
</table>
</div>
<p><span id="t:bloquesdir" label="t:bloquesdir"></span></p>
<p>Como se ha comentado, CIDR también permite que las tablas de
enrutamiento sean menores y se actualicen con menor frecuencia, lo que
mejora el desempeño de los enrutadores.</p>
<p>En efecto, si los bloques de direcciones se asignan a regiones, los
administradores de las regiones a ISPs y los ISPs a sus clientes,
entonces es posible anunciar en la Internet el prefijo de un ISP sin
tener que anunciar todas las redes que administra ese ISP. Cuando un
paquete llega al ISP, éste utilizará un prefijo más grande para
encaminarlo a la red del cliente que corresponda. Esta forma de
<strong>enrutamiento jerárquico</strong> es lo que se conoce como sumarización de
rutas.</p>
<p>La red de la figura <a href="esquema-de-direccionamiento.html#fig:sumariza" reference-type="ref" reference="fig:sumariza">8</a> ejemplifica este concepto. El núcleo es la red
de un ISP que tiene dos clientes: A1, al que le asignó las redes
100.20.0.0 a 200.20.0.15, y A2 al que le asignó las redes 200.20.16.0 a
200.20.16.31.</p>
<div class="float" id="fig:sumariza">
<img src="figuras/c4/sumariza.jpg" alt="Ejemplo de sumarización de direcciones." />
<div class="figcaption"><em>Ejemplo de sumarización de
direcciones.</em></div>
</div>
<p>En vez de anunciar a Internet las 32 redes, el ISP anunciaría únicamente
una red con el prefijo <code>200.20.0.0/19</code>.</p>
<p>Para poder realizar la agregación es necesario que el número de redes
sea una potencia de 2 y que todas ellas compartan los bits que se
encuentran más a la izquierda, es decir, que tengan el mismo prefijo.</p>
<p>Por ejemplo, las 8 redes clase C 192.168.168.0 a 192.168.175.0 pueden
agregarse en 192.168.168.0/21.</p>
</div>
<div id="asignaciuxf3n-de-direcciones-a-dispositivos" class="section level2 hasAnchor" number="12.4">
<h2><span class="header-section-number">12.4</span> Asignación de direcciones a dispositivos<a href="esquema-de-direccionamiento.html#asignaciuxf3n-de-direcciones-a-dispositivos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La asignación de direcciones a dispositivos en una red es un aspecto
fundamental para asegurar la conectividad y el funcionamiento adecuado
de los sistemas. Existen dos métodos principales para llevar a cabo esta
asignación: la configuración manual y la configuración dinámica a través
de protocolos como RARP, BOOTP y DHCP.</p>
<p>En la configuración manual, un administrador de red asigna manualmente
una dirección IP específica a cada dispositivo en la red. Esta
asignación se realiza de forma estática y permanente, lo que significa
que la dirección IP del dispositivo no cambia a menos que el
administrador realice una modificación.</p>
<p>Si bien la configuración manual ofrece precisión y control sobre las
direcciones IP asignadas, puede resultar tediosa y propensa a errores en
redes con muchos dispositivos. <em>Esta configuración sólo es recomendable
dispositivos que requieren de una dirección IP estable, como es el caso
de servidores y enrutadores por omisión</em>.</p>
<p>La configuración dinámica se basa en la automatización de la asignación
de direcciones IP mediante protocolos como RARP (Reverse Address
Resolution Protocol), BOOTP (Bootstrap Protocol) y DHCP (Dynamic Host
Configuration Protocol). RARP permite que un dispositivo sin dirección
IP conozca su dirección IP a partir de su dirección física (MAC
address).</p>
<p>BOOTP fue el precursor de DHCP y se utilizaba para proporcionar
direcciones IP y otra información de configuración básica a los
dispositivos durante el arranque.</p>
<p>DHCP es el protocolo más utilizado actualmente para asignar direcciones
IP de manera dinámica y automática a los dispositivos en una red. Con
DHCP, los dispositivos pueden obtener una dirección IP temporalmente
cuando se conectan a la red, lo que facilita la gestión y la
flexibilidad en entornos con dispositivos móviles o una alta rotación de
dispositivos.</p>
<p>El servidor DHCP también configura en el cliente otros parámetros
importantes como el prefijo o máscara de red, la dirección de los DNS
(se verán más adelante) y de los enrutadores por omisión.</p>
<p>Veamos el funcionamiento del protocolo DHCP a partir de la tabla de
estados <a href="esquema-de-direccionamiento.html#t:dhcp" reference-type="ref" reference="t:dhcp">2</a>:</p>
<div id="t:dhcp">
<table>
<caption><em>Tabla de estados de DHCP</em></caption>
<thead>
<tr class="header">
<th align="center"><strong>Estado</strong></th>
<th align="left"><strong>Descripción</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Descubrimiento</td>
<td align="left">El cliente DHCP envía un paquete <em>discover</em> a la red local para encontrar un servidor DHCP. La dirección de difusión es 255.255.255.255</td>
</tr>
<tr class="even">
<td align="center">Oferta</td>
<td align="left">Todos los servidores DHCP que escuchan el mensaje anterior responden al cliente con una mensaje <em>offer</em> de dirección IP y configuración de red.</td>
</tr>
<tr class="odd">
<td align="center">Solicitud</td>
<td align="left">El cliente selecciona una de las ofertas y envía una solicitud para aceptar la oferta de un servidor DHCP específico mediante un mensaje <em>request</em></td>
</tr>
<tr class="even">
<td align="center">Aceptación</td>
<td align="left">El servidor DHCP confirma la solicitud del cliente con un mensaje <em>Ack</em> y asigna la dirección IP definitiva al cliente.</td>
</tr>
<tr class="odd">
<td align="center">Renovación</td>
<td align="left">Durante el tiempo de arrendamiento, el cliente DHCP renueva la dirección IP con el servidor DHCP.</td>
</tr>
<tr class="even">
<td align="center">Reautenticación</td>
<td align="left">Cuando se alcanza la mitad del tiempo de arrendamiento, el cliente DHCP verifica la conexión.</td>
</tr>
<tr class="odd">
<td align="center">Liberación</td>
<td align="left">Cuando un dispositivo se desconecta o apaga, libera la dirección IP asignada y queda disponible.</td>
</tr>
</tbody>
</table>
</div>
<p><span id="t:dhcp" label="t:dhcp"></span></p>
<p>En realidad, se tienen tres modos de operación: Asignación manual,
asignación dinámica permanente y asignación dinámica (leasing). En esta
última, la dirección se asigna durante un período de tiempo y el cliente
debe estar renovando continuamente la solicitud.</p>
<p>Si por un lado DHCP simplifica la configuración y contribuye a la
escalabilidad de la red, ciertas funciones administrativas pueden
complicarse. Por ejemplo, si los dispositivos reciben dinámicamente su
dirección, ¿cómo identificar cuál es el dispositivo que presenta una
falla?</p>
</div>
<div id="direcciones-privadas" class="section level2 hasAnchor" number="12.5">
<h2><span class="header-section-number">12.5</span> Direcciones privadas<a href="esquema-de-direccionamiento.html#direcciones-privadas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Con el crecimiento exponencial de Internet a principios de la década de
los 90, CIDR no sería suficiente para frenar el agotamiento de
direcciones IP, por lo que surgieron otras iniciativas. La más
importante fue la creación del protocolo IPv6, que veremos más adelante.
Pero la más efectiva hasta hoy, fue la definición de bloques de
direcciones privadas.</p>
<p>Las direcciones privadas son bloques de direcciones IP que pueden ser
utilizadas dentro de las redes locales de una organización para poder
aprovechar la pila de protocolos TCP/IP para interconectar dispositivos
sin que éstos requieran de direcciones IP únicas y globales.</p>
<p>Con una dirección privada se puede hacer prácticamente todo lo que se
puede hacer con una dirección pública global, <em>excepto interconectarse a
Internet</em>. La direcciones privadas no son ruteables en Internet, lo que
significa que los dispositivos que utilizan direcciones IP privadas no
pueden comunicarse directamente con dispositivos fuera de la red de la
organización.</p>
<p>Los bloques de direcciones IP privadas fueron definidos en el RFC 1918,
publicado en 1996. Los tres rangos de direcciones IP privadas son los
siguientes:</p>
<ul>
<li><p><strong>10.0.0.0 a 10.255.255.255</strong> (rango CIDR: 10.0.0.0/8): Este bloque
de direcciones privadas ofrece más de 16 millones de direcciones IP,
lo que lo convierte en la opción preferida para redes empresariales
y corporativas.</p></li>
<li><p><strong>172.16.0.0 a 172.31.255.255</strong> (rango CIDR: 172.16.0.0/12): Este
bloque de direcciones privadas proporciona más de un millón de
direcciones IP y suele ser utilizado en redes medianas o grandes.</p></li>
<li><p><strong>192.168.0.0 a 192.168.255.255</strong> (rango CIDR: 192.168.0.0/16): Este
bloque de direcciones privadas ofrece aproximadamente 65 mil
direcciones IP y es comúnmente utilizado en redes domésticas y
PyMEs.</p></li>
</ul>
<p>Además de las direcciones privadas, existen otros bloques de direcciones
IP que están reservados para fines específicos, como:</p>
<ul>
<li><p>Direcciones de lazo de retorno (<em>loop local</em>): <strong>127.0.0.0 a
127.255.255.255</strong> (rango CIDR: 127.0.0.0/8). Estas direcciones se
utilizan para la comunicación interna del dispositivo consigo mismo.
La dirección 127.0.0.1 es comúnmente conocida como “localhost” y se
utiliza para probar el funcionamiento de la pila de protocolos de
red.</p></li>
<li><p>Direcciones de rango de enlace local: <strong>169.254.0.0 a
169.254.255.255</strong> (rango CIDR: 169.254.0.0/16). Estas direcciones
son asignadas automáticamente por los dispositivos cuando no pueden
obtener una dirección IP válida de un servidor DHCP. Se utilizan en
situaciones en las que no hay un servidor DHCP disponible para
asignar direcciones. Este bloque fue definido en el RFC 3927.</p></li>
</ul>
<p>El uso adecuado de direcciones privadas y bloques de direcciones
reservados es fundamental para garantizar una gestión eficiente de las
direcciones IP dentro de una red local y para evitar conflictos de
direcciones al conectarse a Internet. Al comprender estos rangos y su
propósito, los administradores de redes pueden diseñar y configurar
redes de manera más efectiva y segura.</p>
<p>La asignación de direcciones IP privadas es una práctica común que
permite una gestión más sencilla de las direcciones dentro de la red.
Además, al no ser ruteables en Internet, son intrínsicamente seguras,
pues un dispositivo con una dirección privada no puede ser accedido
desde el exterior de la organización.</p>
<div id="network-address-translation---nat" class="section level3 unnumbered hasAnchor">
<h3>Network Address Translation - NAT<a href="esquema-de-direccionamiento.html#network-address-translation---nat" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Network Address Translation (NAT) es una técnica que permite que muchos
dispositivos puedan compartir una o unas cuantas direcciones IP. Así,
las redes de la organización pueden ser desplegadas con direcciones
privadas y si algunos dispositivos necesitan acceder a Internet, pueden
hacer uso temporal de las direcciones públicas a disposición de la
organización.</p>
<div class="center">
<hr />
</div>
<div class="Ejemplo">
<p><span id="exm:nat"></span><span id="exm:nat" label="exm:nat"></span>Imaginemos que una organización
dispone de las direcciones públicas 200.1.1.1 a 200.1.1.5 y tiene 100
dispositivos en su red interna con direcciones privadas del bloque
10.0.0.0/8.</p>
<p>En un momento determinado, el dispositivo 10.1.2.3 desea comunicarse con
un servidor 198.9.8.7 (que está en una red externa). El datagrama
eventualmente llegará al enrutador que conecta la organización con su
ISP, donde normalmente reside el NAT; éste intercepta el mensaje y
sustituye la dirección fuente por una de su pool, digamos, 200.1.1.3.</p>
<p>La respuesta del servidor llegará al NAT quien habrá registrado que la
dirección 200.1.1.3 fue asignada al dispositivo 10.1.2.3 por lo que
puede remplazar la dirección (ahora, de destino) por la del dispositivo.</p>
<p>Mientras esa comunicación tiene lugar (las direcciones se asignan por un
cierto tiempo o hasta que se cierra la conexión), otro dispositivo,
digamos, 10.1.2.5 quiere comunicarse con el host 15.66.12.1. Al llegar
al NAT, éste hará la sustitución de direcciones por otra disponible en
el pool, por ejemplo, 200.1.1.1 para que el mensaje pueda viajar por
Internet.</p>
<div class="center">
<div class="float">
<img src="figuras/c4/nat.JPG" alt="image" />
<div class="figcaption">image</div>
</div>
</div>
</div>
<p>Un problema evidente con el esquema anterior es que en un momento dado
sólo podrían comunicarse hacia Internet tantos dispositivos como
direcciones IP públicas tenga la organización. Esta es una seria
restricción sobre todo en la actualidad, cuando el acceso a Internet es
indispensable.</p>
<p>Afortunadamente, es una restricción muy fácil de superar con una
extensión de NAT llamada <strong>Network Address Port Translation (NAPT)</strong>, o
NAT con sobrecarga.</p>
<p>Como se verá en capítulos posteriores, al punto de acceso al servicio de
la capa de transporte en Internet, se le llama Puerto. Los paquetes que
integran el flujo entre un emisor y un destinatario, pueden distinguirse
por una tupla de cinco elementos: Dirección IP fuente; dirección IP
destino; protocolo en la capa de transporte; puerto fuente y puerto
destino.</p>
<p>Tomando ventaja de lo anterior, NAPT mapea los paquetes de un emisor a
un puerto fuente y una dirección IP pública. Como se tienen más de
60,000 puertos fuente, entonces se pueden tener muchísimas “sesiones”
entre dispositivos con direcciones privadas y dispositivos en Internet,
utilizando una única dirección IP pública.</p>
<div class="Ejemplo">
<p><span id="exm:napt"></span><span id="exm:napt" label="exm:napt"></span>Continuando con el
ejemplo <a href="esquema-de-direccionamiento.html#exm:nat" reference-type="ref" reference="exm:nat"><span class="math display">\[exm:nat\]</span></a>, ahora la organización dispone únicamente de la
dirección pública 200.1.1.1.</p>
<p>Cuando el dispositivo 10.1.2.3/2345 desea comunicarse con el servidor
198.9.8.7/80 (2345 es el puerto fuente asignado por el sistema operativo
al proceso que desea la comunicación; 80 es le puerto del proceso en el
destino; este puerto es para servidores Web) el datagrama es
interceptado por el NAPT, quien sustituye la dirección fuente por la
pública y el puerto fuente por uno que tenga disponible, digamos, 1024.</p>
<p>La respuesta del servidor llegará al NAPT quien habrá registrado que <em>el
puerto</em> 1024 fue asignada al flujo proveniente de 10.1.2.3/2345 por lo
que puede remplazar la dirección y el puerto correspondientes.</p>
<p>Mientras esa comunicación tiene lugar el flujo proveniente de
10.1.2.5/1234 quiere comunicarse con el host 15.66.12.1/80. Al llegar al
NAPT, éste hará la sustitución con otro puerto que tenga disponible, por
ejemplo, el 1025.</p>
<div class="center">
<div class="float">
<img src="figuras/c4/napt.JPG" alt="image" />
<div class="figcaption">image</div>
</div>
</div>
</div>
<p>Un NAT puede ser implementado en un enrutador, en un firewall o en un
dispositivo especializado. Esta es la mejor opción para redes donde el
trafico es elevado pues requiere mucho procesamiento: no solo deben
cambiarse las direcciones sino debe recalcularse el CRC de los
encabezados.</p>
<p>Además, en algunos protocolos (por ejemplo, comando PORT de FTP; H.323;
DNS) también debe analizarse el campo de datos para detectar y modificar
direcciones ahí y posiblemente hasta cambie de tamaño la trama.</p>
<p>Normalmente NAT proporciona una traducción dinámica, aunque algunas
implantaciones soportan asignación estática para servicios como WWW y
mail servers.</p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="25">
<li id="fn25"><p>Los buffers de transmisión y recepción, las ventanas de recepción
y congestión, y los números de secuencia y de reconocimiento, se
especifican en octetos. Sin embargo, para simplificar la exposición,
en esta sección nos referiremos al envío, recepción y acuse de
recibo de segmentos.<a href="esquema-de-direccionamiento.html#fnref25" class="footnote-back">↩︎</a></p></li>
<li id="fn26"><p>De hecho, estos enlaces no necesitan de direcciones IP porque no
son fuente ni destino de mensajes. Algunos fabricantes permiten
configurarlos sin direcciones IP. A esas interfaces se les conoce
como interfaces anónimas<a href="esquema-de-direccionamiento.html#fnref26" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sec:ip.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="protocolos-auxiliares.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/04-CapaRed.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown_RedesComputadoras.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
